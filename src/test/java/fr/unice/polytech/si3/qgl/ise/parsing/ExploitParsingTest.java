package fr.unice.polytech.si3.qgl.ise.parsing;

import org.junit.Test;

import java.util.Random;

import static org.junit.Assert.assertEquals;

public class ExploitParsingTest
{
    private ExploitParsing exploitParsing;

    @Test
    public void parsing ()
    {
        for (int i = 0; i < 1000; i++)
        {
            int cost = generateInt();
            int amount = generateInt();
            exploitParsing = new ExploitParsing(generateReply(cost, amount));

            assertEquals(cost, exploitParsing.getCost());
            assertEquals(amount, exploitParsing.getAmount());
        }
    }

    private int generateInt ()
    {
        return new Random().nextInt();
    }

    private String generateReply (int cost, int amount)
    {
        return "{ \"cost\": " + cost + ", \"extras\": {\"amount\": " + amount + "}, \"status\": \"OK\" }\n";
    }
}